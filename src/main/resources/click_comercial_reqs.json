{
	"info": {
		"_postman_id": "7737ace3-d003-42fa-90cb-693b6b9feb02",
		"name": "general-api",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "26278251"
	},
	"item": [
		{
			"name": "autenticar/",
			"item": [
				{
					"name": "login/",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var {token, refreshToken} = jsonData;",
									"",
									"pm.environment.set(\"token\", token);",
									"pm.environment.set(\"refresh-token\",refreshToken);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\":\"{{user}}\",\n\t\"password\":\"{{password}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/authenticate/login/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"authenticate",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/refresh-token/",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\":\"{{refresh-token}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/authenticate/refresh-token/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"authenticate",
								"refresh-token",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "api/users",
			"item": [
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t  \"username\": \"Huliane\",\n\t  \"CPF\": \"1112223333\",\n\t  \"email\": \"apresentacaoEstoque1@gmail.com\",\n\t  \"password\": \"1234\",\n\t  \"phone\": \"88911112222\",\n\t  \"address\": \"Ufersa - PDF\",\n\t  \"role\": 4,\n\t  \"admissionDate\": \"2025-07-29\"\n\t}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/users/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"users",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"string\",\n  \"CPF\": \"string\",\n  \"email\": \"string\",\n  \"password\": \"string\",\n  \"phone\": \"string\",\n  \"address\": \"string\",\n  \"role\": 0,\n  \"admissionDate\": \"2025-02-10\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/users/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"users",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "?username=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/users?username=Izaias",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "username",
									"value": "Izaias"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "all",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/users/all",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"users",
								"all"
							]
						}
					},
					"response": []
				},
				{
					"name": "?username=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/users?username=testeCreate",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "username",
									"value": "testeCreate"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "api/items",
			"item": [
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\t  \"name\": \"Porta Sanfonada\",\n\t\t  \"type\": \"PVC\",\n\t\t  \"price\": 147.89,\n\t\t  \"quantity\": 23,\n\t\t  \"code\": \"001003\",\n\t\t  \"validity\": \"2025-07-20\",\n\t\t  \"hasValidity\": false\n\t\t}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/items/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/addStockByName/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"ArgaMassa Votomassa\",\n  \"price\": 0.0,\n  \"quantity\": 4,\n  \"validity\": \"2025-01-20T17:45:32.572Z\",\n  \"hasValidity\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/items/addStockByName/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"addStockByName",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/allByName?name=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/items/allByName?name=ArgaMassa Votomassa",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"allByName"
							],
							"query": [
								{
									"key": "name",
									"value": "ArgaMassa Votomassa"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/itemStockByCode?code=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/items/itemStockByCode?code=001001",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"itemStockByCode"
							],
							"query": [
								{
									"key": "code",
									"value": "001001"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/itemStockByName?name=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/items/itemStockByName?name=ArgaMassa Votomassa",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"itemStockByName"
							],
							"query": [
								{
									"key": "name",
									"value": "ArgaMassa Votomassa"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getAllAgregated?page=&quantidade=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/items/getAllAgregated?page=0&quantidade=3\n",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"getAllAgregated"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "quantidade",
									"value": "3\n"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/deleteByBatch?batch=",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/items/deleteByBatch?batch=AR110",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"items",
								"deleteByBatch"
							],
							"query": [
								{
									"key": "batch",
									"value": "AR110"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "api/clients",
			"item": [
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Izaias Cli2\",\n  \"email\": \"izaiasCli@gmail.com\",\n  \"identificationNumber\": \"12345\",\n  \"address\": \"string\",\n  \"phoneNumber\": \"string\",\n  \"phoneNumberReserve\": \"string\",\n  \"payment\": \"string\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/clients/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "findByIdentificationNumber",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/clients/findByIdentificationNumber?identificationNumber=12345",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"clients",
								"findByIdentificationNumber"
							],
							"query": [
								{
									"key": "identificationNumber",
									"value": "12345"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "approveClient/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identificationNumber\": \"123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/clients/approveClient/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"clients",
								"approveClient",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"IzaiasCLI\",\n  \"email\": \"izaiasCli@gmail.com\",\n  \"identificationNumber\": \"123\",\n  \"address\": \"NEW string\",\n  \"phoneNumber\": \"NEW string\",\n  \"phoneNumberReserve\": \"NEW string\",\n  \"payment\": \"NEW string\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/clients/",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8081/api/clients/?identificationNumber=12345",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"clients",
								""
							],
							"query": [
								{
									"key": "identificationNumber",
									"value": "12345"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "api/sales",
			"item": [
				{
					"name": "/",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentMethod\": \"CARTAO_CREDITO\", // Ou \"PIX\", \"DINHEIRO\", etc.\n  \"clientIdentificationNumber\": \"12345\", // CPF ou CNPJ do cliente\n  \"items\": [\n    {\n      \"resourceId\": 55, // ID do Recurso (Resource) que estÃ¡ sendo comprado\n      \"quantity\": 1    // Quantidade desse recurso\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8081/api/purchases",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"api",
								"purchases"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					"if (pm.environment.get(\"refresh-token\")) {",
					"",
					"    pm.sendRequest({",
					"        url: 'localhost:8081/authenticate/refresh-token/',",
					"        method: 'POST',",
					"        header: {",
					"            'Content-Type': 'application/json'",
					"        },",
					"        body: {",
					"            mode: 'raw',",
					"            raw: JSON.stringify({",
					"                refreshToken: pm.environment.get(\"refresh-token\")",
					"            })",
					"        }",
					"    }, function(err, res) {",
					"        if (!err && res.status === 'OK') {",
					"            var jsonData = res.json();",
					"            const {",
					"                token",
					"            } = jsonData;",
					"            pm.environment.set(\"token\", token);",
					"        } else {",
					"            pm.environment.set(\"token\", null);",
					"            pm.environment.set(\"refresh-token\", null);",
					"        }",
					"",
					"        pm.test('The response should have an OK status and return an access token.',",
					"            () => {",
					"                pm.expect(err).to.equal(null);",
					"                pm.expect(res.status).to.equal('OK');",
					"                pm.expect(res).to.have.property('code', 200);",
					"",
					"                var jsonData = res.json();",
					"                pm.expect(jsonData).to.have.property('token');",
					"                pm.expect(jsonData.token).to.be.a('string').and.not.empty;",
					"            })",
					"    });",
					"",
					"} else {",
					"    console.log('No access token found. Please log in.');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	]
}